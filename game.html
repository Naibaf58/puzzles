<!doctype html>
<!-- Template html file -->
<html>
<head>
    <title>Game loading</title>
    <style>
        #gameboard {
            background-color: #cccccc;
            cursor: default;
        }
    </style>
</head>
<body>
<h1 id="title">Game</h1>

<menu type="toolbar">
    <button id="game_new">New Game</button>
    <button id="game_save">Save Game</button>
    <button id="game_load">Load Game</button>
    <button id="game_restart">Restart Game</button>
    <button id="game_solve">Show Solution</button>
    <button id="undo">Undo</button>
    <button id="redo">Redo</button>
</menu>

<div id="status">Loading&hellip;</div>
<canvas id="gameboard"></canvas>

<script>
    Module = {};
    Module['noInitialRun'] = true;
    Module['noExitRuntime'] = true;
</script>
<script src="cglue.js"></script>
<script src="frontend.js"></script>
<script src="drawing.js"></script>
<script src="GAME.js"></script><!-- This gets replaced with specific game.js -->
<script>
    window.onload = function(e) {
        console.log("Window loaded");

        var frontend = new Frontend('gameboard', 'status'),
            frontend_handle = CHandle(frontend);

        var init_game = Module.cwrap('init_game', 'number', ['number', 'string']);
        init_game(frontend_handle);
    };
</script>
</body>
</html>
